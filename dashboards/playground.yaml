button_card_templates: !include ../button_card_templates.yaml

kiosk_mode:
  hide_header: true
  hide_sidebar: true

views:
  - title: Home
    icon: mdi:home
    path: home
    cards:
      - type: vertical-stack
        cards:

          - type: markdown
            content: |-
              # Network
            card_mod:
              style:
                ha-markdown$: |
                  h1 {
                    font-weight: normal;
                  }
                .: |
                  ha-card {
                    background-color: transparent !important;
                    box-shadow: none !important;
                  }        
          # ----- Router ----- #
          - type: grid
            columns: 2
            square: false 
            cards:  
              # ----- Network: Upload ----- #
              - type: custom:mini-graph-card
                name: Upload
                animate: true
                show:
                  points: false
                hours_to_show: .5
                points_per_hour: 240
                lower_bound: 0
                upper_bound: 40
                color_thresholds:
                  - value: 10
                    color: "#10B981"
                  - value: 15
                    color: "#F59E0B"
                  - value: 25
                    color: "#EF4444"
                entities:
                  - entity: sensor.asuswrt_upload_speed

              # ----- Network: Download ----- #
              - type: custom:mini-graph-card
                name: Download
                animate: true
                show:
                  points: false
                hours_to_show: .5
                points_per_hour: 240
                lower_bound: 0
                upper_bound: 100
                color_thresholds:
                  - value: 40
                    color: "#10B981"
                  - value: 60
                    color: "#F59E0B"
                  - value: 80
                    color: "#EF4444"
                entities:
                  - entity: sensor.asuswrt_download_speed
                  #- entity: sensor.asuswrt_download
                  #  show_graph: false
                  #  show_state: true
          # ----- NAS ----- #
          - type: entities
            title: krisNas
            show_header_toggle: false
            entities:
              - entity: sensor.krisnas_status
              - entity: sensor.krisnas_volume_1_maximum_disk_temp
                name: "Temperature"
              - entity: sensor.krisnas_last_boot
                name: "Last boot"
                icon: mdi:calendar-clock
              - type: custom:bar-card
                width: 55%
                height: 2em
                decimal: 0
                unit_of_measurement: '%'
                positions: &bar_card_positions
                  icon: outside
                  indicator: 'off'
                  name: outside
                severity: &bar_card_severity
                  - color: '#303435'
                    from: 0
                    to: 69
                  - color: '#F59E0B'
                    from: 70
                    to: 84
                  - color: '#EF4444'
                    from: 85
                    to: 100
                entity_row: true
                entities:
                  - entity: sensor.krisnas_cpu_utilization_total
                    name: CPU
                  - entity: sensor.krisnas_memory_usage_real
                    name: Memory - 2 GB
                  - entity: sensor.krisnas_volume_1_volume_used
                    name: Volume - 7.81 TB
                    icon: mdi:harddisk
              - type: custom:multiple-entity-row
                entity: sensor.krisnas_network_down
                show_state: false
                name: Network
                icon: mdi:ethernet
                entities:
                  - entity: sensor.krisnas_network_down
                    name: Down
                  - entity: sensor.krisnas_network_up
                    name: Up
          # ----- CLOUD ----- #
          - type: custom:config-template-card
            entities:
              - sensor.nextcloud_system_freespace
            card:
              type: entities
              title: krisCloud
              show_header_toggle: false
              entities:
                - type: custom:multiple-entity-row
                  name: Version
                  entity: sensor.nextcloud_system_version
                  show_state: true
                - type: custom:multiple-entity-row
                  icon: "${ states['binary_sensor.nextcloud_updates_available'].state ? 'mdi:shield-check' : 'mdi:shield-alert' }" 
                  name: Updates available
                  entity: binary_sensor.nextcloud_updates_available
                  state_color: true
                  show_state: false
                  entities:
                    - entity: sensor.nextcloud_system_apps_num_updates_available
                      name: false
                - type: custom:bar-card
                  width: 55%
                  height: 2em
                  decimal: 0
                  unit_of_measurement: '%'
                  positions: *bar_card_positions
                  severity: *bar_card_severity
                  entity_row: true
                  entities:
                    - entity: sensor.nextcloud_server_load_1m
                      name: CPU
                    - entity: sensor.nextcloud_memory_usage
                      name: Memory - 4 GB
                    - entity: sensor.nextcloud_space_usage
                      name: Volume - 20 GB
          # ----- Devices ----- #
          - type: entities
            title: Devices
            show_header_toggle: false
            entities:
              - type: custom:battery-state-card
                entity: sensor.pixel_4a_battery_level
                color_thresholds: &battery_colors
                  - value: 10
                    color: "#EF4444"
                  - value: 20
                    color: "#F59E0B"
                  - value: 100
                    color: "#9da0a2"
              - type: custom:battery-state-card
                entity: sensor.honey_jahanis_iphone_battery_level
                color_thresholds: *battery_colors
              - type: custom:battery-state-card
                entity: sensor.fernbedienung_arbeitszimmer
                color_thresholds: *battery_colors
              - type: custom:battery-state-card
                entity: sensor.fernbedienung_wohnzimmer
                color_thresholds: *battery_colors
              - type: custom:battery-state-card
                entity: sensor.fernbedienung_kuche
                color_thresholds: *battery_colors
              - type: custom:battery-state-card
                entity: sensor.flur_fernbedienung
                color_thresholds: *battery_colors

      - type: vertical-stack
        cards:

        - type: markdown
          content: |-
            # Home
          card_mod:
            style:
              ha-markdown$: |
                h1 {
                  font-weight: normal;
                }
              .: |
                ha-card {
                  background-color: transparent !important;
                  box-shadow: none !important;
                }
        # ----- Weather ----- #                        
        - type: custom:weather-card
          entity: weather.openweathermap
          current: true
          details: false
          forecast: true
          hourly_forecast: false
          hide_precipitation: true
          number_of_forecasts: 5
        # ----- Lights ----- #
        - type: grid
          columns: 3
          square: true
          cards:
            - type: custom:button-card
              entity: light.stehlampe_wohnzimmer
              template:
                - light
                - icon_shade
            - type: custom:button-card
              entity: light.decke_wohnzimmer
              template:
                - light
                - icon_panel
            - type: custom:button-card
              entity: light.bett_oben
              template:
                - light
                - icon_led
            - type: custom:button-card
              entity: light.stehlampe_arbeitszimmer
              template:
                - light
                - icon_work_lamp
            - type: custom:button-card
              entity: light.decke_arbeitszimmer
              template:
                - light
                - icon_panel
            - type: custom:button-card
              entity: light.decke_flur
              template:
                - light
                - icon_ceiling
            - type: custom:button-card
              entity: light.arbeitslicht
              template:
                - light
                - icon_led    
            - type: custom:button-card
              entity: light.deckenlampe
              template:
                - light
                - icon_ceiling_double
        #- type: custom:mini-media-player
        #  entity: media_player.spotify_kkkrys
        #  icon: mdi:spotify
        #  artwork: cover
        #  hide:
        #    volume: true
        #    source: true
        #    power_state: false
        