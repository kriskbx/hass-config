title: "Monitoring"
path: "monitoring"
icon: "mdi:chart-line"
cards:
  - type: vertical-stack
    cards:

      # -------- internet -------- #
      - type: 'custom:button-card'
        template: card_title
        name: Internet
      - type: grid
        columns: 2
        square: false
        cards:
          - type: 'custom:button-card'
            template: card_graph
            entity: sensor.192_168_50_1_upload_speed
            variables:
              ulm_card_graph_color: "var(--google-blue)"
              ulm_card_graph_name: Upload
              ulm_card_graph_entity: sensor.192_168_50_1_upload_speed
              ulm_card_graph_type: fill
              ulm_card_graph_hours: .5
              ulm_card_graph_points: 48
              ulm_card_graph_group_by: interval
          - type: 'custom:button-card'
            template: card_graph
            entity: sensor.192_168_50_1_download_speed
            variables:
              ulm_card_graph_color: "var(--google-violet)"
              ulm_card_graph_name: Download
              ulm_card_graph_entity: sensor.192_168_50_1_download_speed
              ulm_card_graph_type: fill
              ulm_card_graph_hours: .5
              ulm_card_graph_points: 48
              ulm_card_graph_group_by: interval
          - type: 'custom:button-card'
            template: card_binary_sensor_alert
            entity: binary_sensor.internet_connected
            variables:
              ulm_icon_alert_invert_state: true
              ulm_card_binary_sensor_alert: true
              ulm_card_binary_sensor_alert_force_background_color: false
              ulm_card_binary_sensor_alert_show_last_changed: true
              ulm_card_binary_sensor_alert_color: blue
              ulm_card_binary_sensor_alert_icon: >
                [[[
                  return states['binary_sensor.internet_connected'].state == 'on' ? 'mdi:check-network' : 'mdi:close-network';
                ]]]
          - type: 'custom:button-card'
            template: card_binary_sensor_alert
            entity: binary_sensor.dns_working
            variables:
              ulm_icon_alert_invert_state: true
              ulm_card_binary_sensor_alert: true
              ulm_card_binary_sensor_alert_force_background_color: false
              ulm_card_binary_sensor_alert_show_last_changed: true
              ulm_card_binary_sensor_alert_color: blue
              ulm_card_binary_sensor_alert_icon: >
                [[[
                  return states['binary_sensor.dns_working'].state == 'on' ? 'mdi:lan-check' : 'mdi:lan-disconnect';
                ]]]

  - type: vertical-stack
    cards:

      # -------- Miner -------- #
      - type: 'custom:button-card'
        template: card_title
        name: Settings
      - type: grid
        columns: 2
        square: false
        cards:
          - type: entities
            entities:
              - input_select.monitoring_range

      - type: 'custom:button-card'
        template: card_title
        name: Miner
      - type: conditional
        conditions:
          - condition: state
            entity: input_select.monitoring_range
            state: "day"
        card:
          type: grid
          columns: 3
          square: false
          cards:
            - type: 'custom:button-card'
              template: card_generic
              entity: sensor.miner_wallet_daily
              variables:
                ulm_card_generic_name: Earnings
                ulm_card_generic_icon: mdi:currency-btc
                ulm_card_generic_color:
                ulm_card_generic_force_background_color: true
            - type: 'custom:button-card'
              template: card_generic
              entity: sensor.miner_energy_spent_daily
              variables:
                ulm_card_generic_name: Energy spent
                ulm_card_generic_icon: mdi:lightning-bolt
                ulm_card_generic_color:
                ulm_card_generic_force_background_color: true
            - type: 'custom:button-card'
              template: card_generic
              entity: sensor.miner_earnings_daily
              variables:
                ulm_card_generic_name: Earnings
                ulm_card_generic_icon: mdi:currency-eur
                ulm_card_generic_color: >
                  {% if sensor.miner_earnings_daily > 0 %}green{% else %}red{% endif %}
                ulm_card_generic_force_background_color: true

      # -------- printers -------- #
      - type: 'custom:button-card'
        template: card_title
        name: Printers
      - type: vertical-stack
        cards:
          - type: "custom:button-card"
            template: "custom_card_sisimomo_printer"
            entity: sensor.mfc_l2740dw_status
            variables:
              printer_name: Brother MFC-L2740DW
              cartridges:
                - label: "BK"
                  entity_id: sensor.mfc_l2740dw_black_toner_remaining
                  type: unicolor
                  color: "#121212"
                - label: "DR"
                  entity_id: sensor.mfc_l2740dw_drum_remaining_lifetime
                  type: unicolor
                  color: "#121212"
          - type: "custom:button-card"
            template: "custom_card_sisimomo_printer"
            entity: sensor.dcp_j1050dw_status
            variables:
              printer_name: Brother DCP-J1050DW
              cartridges:
                - label: "C"
                  entity_id: sensor.dcp_j1050dw_cyan_ink_remaining
                  type: unicolor
                  color: "#006974"
                - label: "M"
                  entity_id: sensor.dcp_j1050dw_magenta_ink_remaining
                  type: unicolor
                  color: "#6d1b7b"
                - label: "Y"
                  entity_id: sensor.dcp_j1050dw_yellow_ink_remaining
                  type: unicolor
                  color: "#b2a429"
                - label: "K"
                  entity_id: sensor.dcp_j1050dw_black_ink_remaining
                  type: unicolor
                  color: "#121212"
